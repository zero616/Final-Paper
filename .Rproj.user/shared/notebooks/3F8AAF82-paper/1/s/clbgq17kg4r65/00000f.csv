"0","library(dplyr)"
"0","total_count_data <- toronto_homeless_death %>%"
"0","  group_by(Year.of.death, Cause_of_death) %>%"
"0","  summarise(total_count = sum(Count))"
"2","`summarise()` has grouped output by 'Year.of.death'. You can override using the `.groups` argument."
"0","# Create a stacked bar chart"
"0","ggplot(data = total_count_data, aes(x = Year.of.death, y = total_count, fill = Cause_of_death)) +"
"0","  geom_bar(stat = ""identity"") +"
"0","  geom_text(aes(label = after_stat(total_count)), position = position_stack(vjust = 0.5), size = 3) +"
"0","  scale_fill_manual(values = c(""lightblue"", ""lightgreen"", ""lightpink"", ""lightyellow"", ""lightgray"",""black"",""orange"",""purple"",""yellow"",""red"")) +"
"0","  labs(title = ""Total Count of Causes of Death Stacked by Year"","
"0","       x = ""Year of Death"","
"0","       y = ""Total Count"") +"
"0","  theme_minimal() +"
"0","  theme(axis.text.x = element_text(angle = 45, hjust = 1))"
"1","[1m[33mError[39m in `geom_text()`:[22m
[38;5;232m[33m![38;5;232m Problem while mapping stat to aesthetics.
[36m‚Ñπ[38;5;232m Error occurred in the 2nd layer.[39m
[1mCaused by error:[22m
[33m![39m Êâæ‰∏çÂà∞ÂØπË±°'total_count'
Backtrace:
[90m  1. [39m[1mbase[22m (local) `<fn>`(x)
[90m 17. [39mggplot2::after_stat(total_count)
"
